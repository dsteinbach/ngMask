{"version":3,"sources":["ngMask.js"],"names":["angular","module","directive","$log","$timeout","MaskService","restrict","require","compile","$element","$attrs","mask","ngModel","info","promise","maskService","create","pre","$scope","controller","generateRegex","repeat","maskRepeat","clean","maskClean","limit","maskLimit","maskRestrict","validate","maskValidate","model","value","ngValue","post","then","parseViewValue","untouchedValue","viewValue","getViewValue","maskWithoutOptionals","options","viewValueWithDivisors","withDivisors","viewValueWithoutDivisors","withoutDivisors","regex","getRegex","length","fullRegex","validCurrentPosition","test","diffValueAndViewValueLengthIsOne","diffMaskAndViewValueIsGreaterThanZero","removeWrongPositions","lastCharInputed","lastCharGenerated","getFirstWrongPosition","$dirty","$isEmpty","$setValidity","$viewValue","copy","$render","e","error","timeout","getOptions","$parsers","push","on","cancel","val","$apply","$watch","newValue","oldValue","isDefined","$evalAsync","factory","$q","OptionalService","UtilService","generateIntermetiateElementRegex","i","forceOptional","charRegex","element","elementRegex","patterns","hasOptional","isOptional","source","isDivisor","divisors","divisorElements","RegExp","generateIntermetiateRegex","elementOptionalRegex","intermetiateElementRegex","currentRegex","maskWithoutOptionalsLength","opts","deferred","defer","Array","parseInt","join","optionalIndexes","getOptionals","fromMaskWithoutOptionals","removeOptionals","cumulativeRegex","newRegex","generateOptionalDivisors","maskWithoutOptionalsAndDivisorsLength","removeDivisors","resolve","optionalDivisors","optionalDivisorsCombinations","reject","index","currentPos","inArray","sortNumber","a","b","sortedDivisors","sort","sortedOptionals","divisor","j","optional","concat","toString","keys","Object","elments","uniqueArray","replace","insertDivisors","array","combination","insert","output","out","splice","divs","filter","it","optionalDivisorsKeys","map","isArray","tryDivisorConfiguration","split","defaultDivisors","lazyArguments","lazyProduct","prototype","slice","call","arguments","outputClone","outputWithoutDivisors","capped","substr","getWrongPositions","onlyFirst","pos","pattern","wrongPositions","newViewValue","wrongPosition","viewValueArray","9","8","7","6","5","4","3","2","1","0","*","w","W","d","D","s","S","A","Z","z","@","#","%","getOptionalsIndexes","indexes","regexp","match","exec","fromMask","getOptionalsRelativeMaskWithoutOptionals","optionals","newMask","sets","f","context","dive","len","lens","max","p","apply","pop","this","indexOf","u","l","hasOwnProperty"],"mappings":"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","file":"ngMask.min.js"}